<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <title>Viewing ARK Settings</title>
    <link rel="stylesheet" href="../styles.css">
  </head>

  <body>
    <nav>
      <ul>
        <li><a href="../index.html">Home</a></li>
        <li><a href="view_settings.html" class="disabled">View</a></li>
        <li><a href="manage_settings.html">Manage</a></li>
        <li><a href="share_settings.html">Share</a></li>
      </ul>
    </nav>

    <div id="container" style="text-align: center;">
      <div id="fileStatus"></div>
      <div id="uploadSection" class="upload-section" style="display: none;">
        <h3>Upload Game.ini File</h3>
        <input type="file" id="fileInput" accept=".ini">
      </div>
    </div>

    <script>
      async function checkGameIni() {
        // Wait for it to check uploads. 
        const files = await window.electronAPI.checkForUploads();
        // Get the sections ready. 
        const fileStatus = document.getElementById('fileStatus');
        const uploadSection = document.getElementById('uploadSection');
        
        // Check if Game.ini exists.
        if (files === "No files found" || !files.includes('Game.ini') || !files.includes('game.ini')) {
          fileStatus.innerHTML = "<h2>No Game.ini file found.</h2>";
          uploadSection.style.display = 'block';
        } else { 
          fileStatus.innerHTML = "<h2>Game.ini file found.</h2>";
          uploadSection.style.display = 'none';
        }
      }

      // Check for Game.ini when page loads.
      window.addEventListener('DOMContentLoaded', checkGameIni);
    </script>
  </body>
</html>